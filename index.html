<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>6th Grade Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Custom styles for the gamified platform */
        body {
            font-family: cursive, sans-serif; /* Fun, rounded system font */
            background: linear-gradient(to bottom, #6dd5ed, #2193b0); /* Sky blue gradient */
            color: #333;
            overflow: hidden; /* Hide scrollbars to keep the scene clean */
            margin: 0;
            padding: 0;
        }
        
        /* Language-specific fonts */
        .lang-en { font-family: cursive, sans-serif; }
        .lang-or { font-family: sans-serif; font-weight: 700; }
        .lang-or-body { font-family: sans-serif; font-weight: 400; }
        .lang-hi { font-family: sans-serif; font-weight: 700; }
        .lang-hi-body { font-family: sans-serif; font-weight: 400; }

        #background-container {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            z-index: -1;
        }

        .start-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
            background: linear-gradient(to bottom, #6dd5ed, #2193b0);
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.4);
        }

        .start-screen h1 {
            font-size: 4rem;
            margin-bottom: 1rem;
        }

        .play-now-btn {
            font-size: 2rem;
            padding: 1rem 3rem;
            border-radius: 50px;
            background: #ff6b6b;
            color: white;
            border: 5px solid white;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        .play-now-btn:hover {
            transform: scale(1.1);
            background: #ff4757;
        }
        
        #app-container {
            display: none; /* Hidden initially */
            opacity: 0;
            transition: opacity 1s ease-in-out;
        }

        .chapter-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(8px);
            border: 2px solid rgba(255, 255, 255, 0.5);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            text-align: center;
            padding: 1.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        
        .chapter-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }
        
        .chapter-title {
            color: #fff;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.3);
        }

        .modal { background: rgba(0, 0, 0, 0.6); }
        .modal-content {
             background: white;
             border-radius: 1.5rem;
             border: 5px solid #ffca28;
             box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }

        /* Generic Game Styles */
        .game-option-btn {
            background-color: #f0f0f0;
            border: 2px solid #ddd;
            transition: all 0.2s ease;
        }
        .game-option-btn:hover {
            transform: scale(1.05);
            border-color: #ffca28;
            background-color: #fffbe6;
        }

        /* Detective Math Game Style */
        .clue-box {
            background: #fffbe6;
            border: 2px dashed #fcd34d;
            padding: 1rem;
            border-radius: 0.75rem;
        }
        
        /* Space Invaders Game Style */
        #invaders-game-area {
            position: relative;
            height: 400px;
            background: #000 url('https://www.transparenttextures.com/patterns/stardust.png');
            border-radius: 1rem;
            overflow: hidden;
        }
        .invader {
            position: absolute;
            color: #39ff14; /* Lime green */
            font-size: 1.5rem;
            animation: fall 10s linear infinite;
            cursor: pointer;
        }
        .player-ship {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            width: 50px;
            height: 30px;
            background-color: #f9ca24;
            clip-path: polygon(50% 0%, 0% 100%, 100% 100%);
        }

        /* Time Traveler Game */
        .number-line {
            width: 100%;
            height: 50px;
            background: #eee;
            border-radius: 25px;
            margin: 2rem 0;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: space-around;
            padding: 0 20px;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }
        .time-traveler {
            position: absolute;
            font-size: 2.5rem;
            transition: left 0.5s ease-in-out;
        }
        
        /* Pizza Party Game */
        .pizza-slice {
            fill: #ffdd59;
            stroke: #d35400;
            stroke-width: 4;
            transition: fill 0.3s ease;
            cursor: pointer;
        }
        .pizza-slice:hover {
            fill: #feca57;
        }
        .pizza-crust {
            fill: #d35400;
        }

        /* Market Mayhem Game */
        .item-card {
            background-color: #e0f2fe;
            border: 2px solid #7dd3fc;
        }

        /* Mountain Climber Game */
        .mountain-bg {
            background: linear-gradient(to top, #a8e063, #56ab2f);
            height: 300px;
            position: relative;
            border-radius: 1rem;
            overflow: hidden;
        }
        .climber {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            transition: bottom 0.5s ease-in-out;
            font-size: 2rem;
        }
        .level-marker {
            position: absolute;
            width: 100%;
            left: 0;
            border-top: 1px dashed rgba(255,255,255,0.5);
            color: white;
            font-size: 0.8rem;
            padding-left: 5px;
        }

        /* Polygon Puzzle Game */
        .shape-canvas {
            border: 2px dashed #ccc;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        /* Variable Voyager Game */
        .voyager-bg {
            background: #000020 url('https://www.transparenttextures.com/patterns/stardust.png');
            height: 250px;
            border-radius: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            text-shadow: 0 0 10px #00ffff;
        }

        /* Garden Architect Game */
        .garden-plot {
            background-color: #8B4513;
            border: 5px solid #5C2E00;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
            font-weight: bold;
        }
        .dimension-label {
            position: absolute;
            background: rgba(0,0,0,0.5);
            padding: 2px 8px;
            border-radius: 5px;
            font-size: 1rem;
        }

        /* Blueprint Builder Game */
        .tool-icon {
            font-size: 4rem;
        }


        @keyframes fall {
            from { top: -30px; }
            to { top: 100%; }
        }

    </style>
</head>
<body>

    <div id="background-container"></div>

    <div id="start-screen" class="start-screen">
        <h1 class="lang-or">‡¨∑‡¨∑‡≠ç‡¨† ‡¨∂‡≠ç‡¨∞‡≠á‡¨£‡≠Ä ‡¨ó‡¨£‡¨ø‡¨§</h1>
        <p class="text-xl mb-12 lang-or-body">‡¨∏‡¨æ‡¨π‡¨∏‡¨ø‡¨ï‡¨§‡¨æ‡¨∞ ‡¨™‡¨∞‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡≠Ä ‡¨∏‡≠ç‡¨§‡¨∞!</p>
        <button id="play-now-btn" class="play-now-btn lang-or">‡¨è‡¨¨‡≠á ‡¨ñ‡≠á‡¨≥‡¨®‡≠ç‡¨§‡≠Å</button>
    </div>

    <!-- Main Application Container -->
    <div id="app-container" class="hidden min-h-screen p-4 sm:p-6 lg:p-8">
        <header class="flex justify-between items-center mb-8">
            <h1 id="platform-title" class="text-3xl md:text-4xl font-bold text-white text-shadow">‡¨∑‡¨∑‡≠ç‡¨† ‡¨∂‡≠ç‡¨∞‡≠á‡¨£‡≠Ä ‡¨ó‡¨£‡¨ø‡¨§</h1>
            <div class="flex items-center space-x-2 bg-white/70 backdrop-blur-sm p-2 rounded-full shadow-md">
                <button id="lang-en-btn" class="px-4 py-2 rounded-full text-sm font-semibold text-gray-600">English</button>
                <button id="lang-or-btn" class="px-4 py-2 rounded-full text-sm font-semibold bg-emerald-500 text-white">‡¨ì‡¨°‡¨º‡¨ø‡¨Ü</button>
                <button id="lang-hi-btn" class="px-4 py-2 rounded-full text-sm font-semibold text-gray-600">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</button>
            </div>
        </header>
        <main id="main-content"></main>
    </div>

    <!-- Game Modal -->
    <div id="game-modal" class="hidden fixed inset-0 z-50 flex items-center justify-center p-4 modal">
        <div class="modal-content w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl p-6 relative flex flex-col">
            <div class="flex justify-between items-center pb-4 border-b border-gray-200">
                <h2 id="game-title" class="text-3xl font-bold text-emerald-700">Game Title</h2>
                <button id="close-modal-btn" class="text-gray-500 hover:text-red-600 transition-colors">
                    <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            <div id="game-content" class="flex-grow mt-4 overflow-y-auto"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // --- DYNAMIC BACKGROUND GENERATION ---
            function createBackground() {
                const bgContainer = document.getElementById('background-container');
                const svgNS = "http://www.w3.org/2000/svg";
                const svg = document.createElementNS(svgNS, "svg");
                svg.setAttribute('width', '100%');
                svg.setAttribute('height', '100%');
                svg.setAttribute('preserveAspectRatio', 'xMidYMid slice');

                // Clouds
                for (let i = 0; i < 15; i++) {
                    const circle = document.createElementNS(svgNS, "circle");
                    circle.setAttribute('cx', `${Math.random() * 100}%`);
                    circle.setAttribute('cy', `${Math.random() * 40}%`);
                    circle.setAttribute('r', `${Math.random() * 50 + 20}`);
                    circle.setAttribute('fill', 'rgba(255, 255, 255, 0.7)');
                    circle.style.filter = 'blur(15px)';
                    svg.appendChild(circle);
                }

                // Floating Islands
                const islandColors = ['#8B4513', '#A0522D', '#D2691E'];
                for (let i = 0; i < 5; i++) {
                    const path = document.createElementNS(svgNS, "path");
                    const x = Math.random() * 80 + 10;
                    const y = Math.random() * 60 + 20;
                    const d = `M ${x-5} ${y} C ${x-10} ${y+10}, ${x+10} ${y+10}, ${x+5} ${y} Z`;
                    path.setAttribute('d', d);
                    path.setAttribute('fill', islandColors[i % 3]);
                    path.style.filter = 'drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4))';
                    svg.appendChild(path);
                }
                bgContainer.appendChild(svg);
            }

            // --- DATA & STATE MANAGEMENT ---
            let currentLanguage = 'or';
            const textContent = {
                platformTitle: { en: '6th Grade Math', or: '‡¨∑‡¨∑‡≠ç‡¨† ‡¨∂‡≠ç‡¨∞‡≠á‡¨£‡≠Ä ‡¨ó‡¨£‡¨ø‡¨§', hi: '‡§ï‡§ï‡•ç‡§∑‡§æ 6 ‡§ó‡§£‡§ø‡§§' },
                chapters: [
                    { id: 'ch1', title: { en: 'Knowing Our Numbers', or: '‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ú‡¨æ‡¨£‡¨ø‡¨¨‡¨æ', hi: '‡§Ö‡§™‡§®‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•ã ‡§ú‡§æ‡§®‡§®‡§æ' }, color: 'bg-blue-500', units: [
                        { id: 'u1.1', title: { en: 'Number Detective', or: '‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ ‡¨ó‡≠Å‡¨™‡≠ç‡¨§‡¨ö‡¨∞', hi: '‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ú‡§æ‡§∏‡•Ç‡§∏' }, game: 'detectiveMath' },
                        { id: 'u1.2', title: { en: 'Place Value Treasure Hunt', or: '‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡≠Ä‡≠ü ‡¨Æ‡¨æ‡¨®‡¨∞ ‡¨∏‡¨®‡≠ç‡¨ß‡¨æ‡¨®', hi: '‡§∏‡•ç‡§•‡§æ‡§®‡•Ä‡§Ø ‡§Æ‡§æ‡§® ‡§ñ‡§ú‡§æ‡§®‡§æ ‡§ñ‡•ã‡§ú' }, game: 'treasureHunt' }
                    ]},
                    { id: 'ch2', title: { en: 'Playing with Numbers', or: '‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ ‡¨∏‡¨π ‡¨ñ‡≠á‡¨≥', hi: '‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§ì‡§Ç ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ñ‡•á‡§≤‡§®‡§æ' }, color: 'bg-green-500', units: [
                        { id: 'u2.1', title: { en: 'Divisibility Space Invaders', or: '‡¨¨‡¨ø‡¨≠‡¨æ‡¨ú‡≠ç‡≠ü‡¨§‡¨æ ‡¨Æ‡¨π‡¨æ‡¨ï‡¨æ‡¨∂ ‡¨Ü‡¨ï‡≠ç‡¨∞‡¨Æ‡¨£', hi: '‡§µ‡§ø‡§≠‡§æ‡§ú‡•ç‡§Ø‡§§‡§æ ‡§∏‡•ç‡§™‡•á‡§∏ ‡§Ü‡§ï‡•ç‡§∞‡§Æ‡§£' }, game: 'spaceInvaders' },
                        { id: 'u2.2', title: { en: 'Factor Escape Room', or: '‡¨ó‡≠Å‡¨£‡¨®‡≠Ä‡≠ü‡¨ï ‡¨∞‡¨π‡¨∏‡≠ç‡≠ü', hi: '‡§ó‡•Å‡§£‡§®‡§ñ‡§Ç‡§° ‡§è‡§∏‡•ç‡§ï‡•á‡§™ ‡§∞‡•Ç‡§Æ' }, game: 'escapeRoom' }
                    ]},
                    { id: 'ch3', title: { en: 'Basic Geometrical Ideas', or: '‡¨ú‡≠ç‡≠ü‡¨æ‡¨Æ‡¨ø‡¨§‡¨ø‡¨∞‡≠á ‡¨Æ‡≠å‡¨≥‡¨ø‡¨ï ‡¨ß‡¨æ‡¨∞‡¨£‡¨æ', hi: '‡§¨‡•Å‡§®‡§ø‡§Ø‡§æ‡§¶‡•Ä ‡§ú‡•ç‡§Ø‡§æ‡§Æ‡§ø‡§§‡•Ä‡§Ø ‡§µ‡§ø‡§ö‡§æ‡§∞' }, color: 'bg-yellow-500', units: [
                         { id: 'u3.1', title: { en: 'Shape Magic', or: '‡¨Ü‡¨ï‡≠É‡¨§‡¨ø‡¨∞ ‡¨Ø‡¨æ‡¨¶‡≠Å', hi: '‡§Ü‡§ï‡•É‡§§‡§ø ‡§ï‡§æ ‡§ú‡§æ‡§¶‡•Ç' }, game: 'shapeMagic' }
                    ]},
                    { id: 'ch4', title: { en: 'Natural Numbers', or: '‡¨∏‡≠ç‡¨µ‡¨æ‡¨≠‡¨æ‡¨¨‡¨ø‡¨ï ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ', hi: '‡§™‡•ç‡§∞‡§æ‡§ï‡•É‡§§‡§ø‡§ï ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§è‡§Ç' }, color: 'bg-purple-500', units: [
                         { id: 'u4.1', title: { en: 'Time Traveler', or: '‡¨∏‡¨Æ‡≠ü ‡¨Ø‡¨æ‡¨§‡≠ç‡¨∞‡¨æ', hi: '‡§∏‡§Æ‡§Ø ‡§Ø‡§æ‡§§‡•ç‡§∞‡•Ä' }, game: 'timeTraveler' }
                    ]},
                    { id: 'ch5', title: { en: 'Fractions', or: '‡¨≠‡¨ó‡≠ç‡¨®‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ', hi: '‡§≠‡§ø‡§®‡•ç‡§®' }, color: 'bg-pink-500', units: [
                        { id: 'u5.1', title: { en: 'Pizza Party', or: '‡¨™‡¨ø‡¨ú‡¨æ ‡¨™‡¨æ‡¨∞‡≠ç‡¨ü‡¨ø', hi: '‡§™‡§ø‡§ú‡•ç‡§ú‡§æ ‡§™‡§æ‡§∞‡•ç‡§ü‡•Ä' }, game: 'pizzaParty' }
                    ]},
                    { id: 'ch6', title: { en: 'Decimal Numbers', or: '‡¨¶‡¨∂‡¨Æ‡¨ø‡¨ï ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ', hi: '‡§¶‡§∂‡§Æ‡§≤‡§µ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ‡§è‡§Ç' }, color: 'bg-indigo-500', units: [
                        { id: 'u6.1', title: { en: 'Decimal Dash', or: '‡¨¶‡¨∂‡¨Æ‡¨ø‡¨ï ‡¨¶‡≠å‡¨°‡¨º', hi: '‡§¶‡§∂‡§Æ‡§≤‡§µ ‡§°‡•à‡§∂' }, game: 'decimalDash' }
                    ]},
                    { id: 'ch7', title: { en: 'Commercial Mathematics', or: '‡¨¨‡≠ç‡≠ü‡¨æ‡¨¨‡¨∏‡¨æ‡≠ü‡¨ø‡¨ï ‡¨ó‡¨£‡¨ø‡¨§', hi: '‡§µ‡•ç‡§Ø‡§æ‡§µ‡§∏‡§æ‡§Ø‡§ø‡§ï ‡§ó‡§£‡§ø‡§§' }, color: 'bg-red-500', units: [
                        { id: 'u7.1', title: { en: 'Market Mayhem', or: '‡¨¨‡¨ú‡¨æ‡¨∞‡¨∞ ‡¨Æ‡¨æ‡≠ü‡¨æ', hi: '‡§¨‡§æ‡§ú‡§æ‡§∞ ‡§ï‡•Ä ‡§Æ‡§æ‡§Ø‡§æ' }, game: 'marketMayhem' }
                    ]},
                    { id: 'ch8', title: { en: 'Integers', or: '‡¨™‡≠Ç‡¨∞‡≠ç‡¨£‡≠ç‡¨£ ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ', hi: '‡§™‡•Ç‡§∞‡•ç‡§£‡§æ‡§Ç‡§ï' }, color: 'bg-orange-500', units: [
                        { id: 'u8.1', title: { en: 'Mountain Climber', or: '‡¨™‡¨∞‡≠ç‡¨¨‡¨§‡¨æ‡¨∞‡≠ã‡¨π‡≠Ä', hi: '‡§™‡§∞‡•ç‡§µ‡§§‡§æ‡§∞‡•ã‡§π‡•Ä' }, game: 'mountainClimber'}
                    ]},
                    { id: 'ch9', title: { en: 'Geometrical Shapes on a Plane', or: '‡¨∏‡¨Æ‡¨§‡¨≥ ‡¨â‡¨™‡¨∞‡¨ø‡¨∏‡≠ç‡¨• ‡¨ú‡≠ç‡≠ü‡¨æ‡¨Æ‡¨ø‡¨§‡¨ø‡¨ï ‡¨Ü‡¨ï‡≠É‡¨§‡¨ø', hi: '‡§è‡§ï ‡§§‡§≤ ‡§™‡§∞ ‡§ú‡•ç‡§Ø‡§æ‡§Æ‡§ø‡§§‡•Ä‡§Ø ‡§Ü‡§ï‡•É‡§§‡§ø‡§Ø‡§æ‡§Å' }, color: 'bg-cyan-500', units: [
                        { id: 'u9.1', title: { en: 'Polygon Puzzle', or: '‡¨¨‡¨π‡≠Å‡¨≠‡≠Å‡¨ú ‡¨™‡¨ú‡¨≤‡≠ç', hi: '‡§¨‡§π‡•Å‡§≠‡•Å‡§ú ‡§™‡§π‡•á‡§≤‡•Ä' }, game: 'polygonPuzzle'}
                    ]},
                    { id: 'ch10', title: { en: 'Introduction to Algebra', or: '‡¨¨‡≠Ä‡¨ú‡¨ó‡¨£‡¨ø‡¨§ ‡¨∏‡¨π‡¨ø‡¨§ ‡¨™‡¨∞‡¨ø‡¨ö‡¨ø‡¨§‡¨ø', hi: '‡§¨‡•Ä‡§ú‡§ó‡§£‡§ø‡§§ ‡§ï‡§æ ‡§™‡§∞‡§ø‡§ö‡§Ø' }, color: 'bg-lime-500', units: [
                        { id: 'u10.1', title: { en: 'Variable Voyager', or: '‡¨¨‡≠á‡¨∞‡¨ø‡¨è‡¨¨‡¨≤‡≠ç ‡¨≠‡¨è‡¨ú‡¨∞‡≠ç', hi: '‡§ö‡§∞ ‡§µ‡•ã‡§Ø‡§æ‡§ú‡§∞' }, game: 'variableVoyager'}
                    ]},
                    { id: 'ch11', title: { en: 'Mensuration', or: '‡¨™‡¨∞‡¨ø‡¨Æ‡¨ø‡¨§‡¨ø', hi: '‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§Æ‡§ø‡§§‡§ø' }, color: 'bg-fuchsia-500', units: [
                        { id: 'u11.1', title: { en: 'Garden Architect', or: '‡¨¨‡¨ó‡¨ø‡¨ö‡¨æ ‡¨®‡¨ø‡¨∞‡≠ç‡¨Æ‡¨æ‡¨§‡¨æ', hi: '‡§¨‡§ó‡•Ä‡§ö‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§§‡§æ' }, game: 'gardenArchitect'}
                    ]},
                    { id: 'ch12', title: { en: 'Data Handling and Organization', or: '‡¨§‡¨•‡≠ç‡≠ü ‡¨™‡¨∞‡¨ø‡¨ö‡¨æ‡¨≥‡¨®‡¨æ ‡¨ì ‡¨∏‡¨Ç‡¨∞‡¨ö‡¨®‡¨æ', hi: '‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§î‡§∞ ‡§∏‡§Ç‡§ó‡§†‡§®' }, color: 'bg-rose-500', units: [
                        { id: 'u12.1', title: { en: 'Fruit Stand Frenzy', or: '‡¨´‡¨≥ ‡¨¶‡≠ã‡¨ï‡¨æ‡¨® ‡¨Æ‡¨ú‡¨æ', hi: '‡§´‡§≤ ‡§¶‡•Å‡§ï‡§æ‡§® ‡§ï‡§æ ‡§Æ‡§ú‡§º‡§æ' }, game: 'fruitStandFrenzy'}
                    ]},
                    { id: 'ch13', title: { en: 'Geometrical Constructions', or: '‡¨ú‡≠ç‡≠ü‡¨æ‡¨Æ‡¨ø‡¨§‡¨ø‡¨ï ‡¨Ö‡¨ô‡≠ç‡¨ï‡¨®', hi: '‡§ú‡•ç‡§Ø‡§æ‡§Æ‡§ø‡§§‡•Ä‡§Ø ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£' }, color: 'bg-sky-500', units: [
                        { id: 'u13.1', title: { en: 'Blueprint Builder', or: '‡¨®‡¨ï‡≠ç‡¨∏‡¨æ ‡¨®‡¨ø‡¨∞‡≠ç‡¨Æ‡¨æ‡¨§‡¨æ', hi: '‡§¨‡•ç‡§≤‡•Ç‡§™‡•ç‡§∞‡§ø‡§Ç‡§ü ‡§¨‡§ø‡§≤‡•ç‡§°‡§∞' }, game: 'blueprintBuilder'}
                    ]}
                ]
            };
            
            const gameData = {
                checkAnswer: { en: 'Check', or: '‡¨Ø‡¨æ‡¨û‡≠ç‡¨ö ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å', hi: '‡§ú‡§æ‡§Ç‡§ö‡•á‡§Ç' },
                correct: { en: 'Brilliant!', or: '‡¨¨‡¨π‡≠Å‡¨§ ‡¨¨‡¨¢‡¨ø‡¨Ü!', hi: '‡§¨‡§π‡•Å‡§§ ‡§¨‡§¢‡§º‡§ø‡§Ø‡§æ!' },
                tryAgain: { en: 'Not quite, try again!', or: '‡¨≠‡≠Å‡¨≤ ‡¨Ö‡¨õ‡¨ø, ‡¨™‡≠Å‡¨£‡¨ø ‡¨ö‡≠á‡¨∑‡≠ç‡¨ü‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§ó‡§≤‡§§ ‡§π‡•à, ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§ï‡•ã‡§∂‡§ø‡§∂ ‡§ï‡§∞‡•á‡§Ç!' },
                next: { en: 'Next', or: '‡¨™‡¨∞‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡≠Ä', hi: '‡§Ö‡§ó‡§≤‡§æ' },
                detectiveMath: {
                    instruction: { en: 'Detective, find the missing number in the sequence!', or: '‡¨ó‡≠Å‡¨™‡≠ç‡¨§‡¨ö‡¨∞, ‡¨è‡¨π‡¨ø ‡¨ï‡≠ç‡¨∞‡¨Æ‡¨∞‡≠á ‡¨•‡¨ø‡¨¨‡¨æ ‡¨π‡¨ú‡¨ø‡¨Ø‡¨æ‡¨á‡¨•‡¨ø‡¨¨‡¨æ ‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ‡¨ï‡≠Å ‡¨ñ‡≠ã‡¨ú‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§ú‡§æ‡§∏‡•Ç‡§∏, ‡§á‡§∏ ‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç ‡§≤‡•Å‡§™‡•ç‡§§ ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç!' },
                    caseFile: { en: 'Case File', or: '‡¨ï‡≠á‡¨∏‡≠ç ‡¨´‡¨æ‡¨á‡¨≤‡≠ç', hi: '‡§ï‡•á‡§∏ ‡§´‡§º‡§æ‡§á‡§≤' }
                },
                treasureHunt: {
                    instruction: { en: 'Brave adventurer, find the treasure! What digit is in the', or: '‡¨∏‡¨æ‡¨π‡¨∏‡≠Ä ‡¨Ö‡¨≠‡¨ø‡¨Ø‡¨æ‡¨§‡≠ç‡¨∞‡≠Ä, ‡¨ß‡¨® ‡¨∏‡¨®‡≠ç‡¨ß‡¨æ‡¨® ‡¨ï‡¨∞! ‡¨ï‡≠á‡¨â‡¨Å ‡¨Ö‡¨ô‡≠ç‡¨ï‡¨ü‡¨ø ‡¨è‡¨π‡¨ø ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á ‡¨Ö‡¨õ‡¨ø', hi: '‡§¨‡§π‡§æ‡§¶‡•Å‡§∞ ‡§∏‡§æ‡§π‡§∏‡•Ä, ‡§ñ‡§ú‡§æ‡§®‡§æ ‡§¢‡•Ç‡§Ç‡§¢‡•ã! ‡§ï‡•å‡§® ‡§∏‡§æ ‡§Ö‡§Ç‡§ï ‡§á‡§∏ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞ ‡§π‡•à' },
                    place: {
                        ones: { en: 'Ones place', or: '‡¨è‡¨ï‡¨ï ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á', hi: '‡§á‡§ï‡§æ‡§à ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞'},
                        tens: { en: 'Tens place', or: '‡¨¶‡¨∂‡¨ï ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á', hi: '‡§¶‡§π‡§æ‡§à ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞'},
                        hundreds: { en: 'Hundreds place', or: '‡¨∂‡¨§‡¨ï ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á', hi: '‡§∏‡•à‡§ï‡§°‡§º‡§æ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞'},
                        thousands: { en: 'Thousands place', or: '‡¨π‡¨ú‡¨æ‡¨∞ ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á', hi: '‡§π‡§ú‡§æ‡§∞ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞' },
                        tenThousands: { en: 'Ten Thousands place', or: '‡¨Ö‡≠ü‡≠Å‡¨§ ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á', hi: '‡§¶‡§∏ ‡§π‡§ú‡§æ‡§∞ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞' },
                        lakhs: { en: 'Lakhs place', or: '‡¨≤‡¨ï‡≠ç‡¨∑ ‡¨∏‡≠ç‡¨•‡¨æ‡¨®‡¨∞‡≠á', hi: '‡§≤‡§æ‡§ñ ‡§∏‡•ç‡§•‡§æ‡§® ‡§™‡§∞' }
                    },
                    inTheNumber: { en: 'in the number', or: '‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ‡¨ü‡¨ø‡¨∞‡≠á', hi: '‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ‡§Æ‡•á‡§Ç' }
                },
                spaceInvaders: {
                    instruction: { en: 'Destroy the invaders that are multiples of', or: '‡¨Ü‡¨ï‡≠ç‡¨∞‡¨Æ‡¨£‡¨ï‡¨æ‡¨∞‡≠Ä‡¨ô‡≠ç‡¨ï‡≠Å ‡¨®‡¨∑‡≠ç‡¨ü ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å ‡¨Ø‡≠á‡¨â‡¨Å‡¨Æ‡¨æ‡¨®‡≠á ‡¨è‡¨π‡¨æ‡¨∞ ‡¨ó‡≠Å‡¨£‡¨ø‡¨§‡¨ï ‡¨Ö‡¨ü‡¨®‡≠ç‡¨§‡¨ø', hi: '‡§â‡§® ‡§Ü‡§ï‡•ç‡§∞‡§Æ‡§£‡§ï‡§æ‡§∞‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§®‡§∑‡•ç‡§ü ‡§ï‡§∞‡•á‡§Ç ‡§ú‡•ã ‡§á‡§∏‡§ï‡•á ‡§ó‡•Å‡§£‡§ú ‡§π‡•à‡§Ç' },
                    fire: { en: 'FIRE!', or: '‡¨´‡¨æ‡≠ü‡¨æ‡¨∞!', hi: '‡§´‡§º‡§æ‡§Ø‡§∞!' }
                },
                escapeRoom: {
                    instruction: { en: 'Find the key! Which of these is a factor of', or: '‡¨ö‡¨æ‡¨¨‡¨ø ‡¨ñ‡≠ã‡¨ú! ‡¨è‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨ß‡≠ç‡≠ü‡¨∞‡≠Å ‡¨ï‡≠á‡¨â‡¨Å‡¨ü‡¨ø ‡¨è‡¨π‡¨æ‡¨∞ ‡¨ó‡≠Å‡¨£‡¨®‡≠Ä‡≠ü‡¨ï', hi: '‡§ö‡§æ‡§¨‡•Ä ‡§¢‡•Ç‡§Ç‡§¢‡•ã! ‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§á‡§∏‡§ï‡§æ ‡§ó‡•Å‡§£‡§®‡§ñ‡§Ç‡§° ‡§π‡•à' }
                },
                shapeMagic: {
                    instruction: { en: 'What am I?', or: '‡¨Æ‡≠Å‡¨Å ‡¨ï‡¨ø‡¨è?', hi: '‡§Æ‡•à‡§Ç ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•Ç‡§Å?' },
                    questions: [
                        { q: { en: 'I have no size, only a position.', or: '‡¨Æ‡≠ã‡¨∞ ‡¨Ü‡¨ï‡¨æ‡¨∞ ‡¨®‡¨æ‡¨π‡¨ø‡¨Å, ‡¨ï‡≠á‡¨¨‡¨≥ ‡¨è‡¨ï ‡¨∏‡≠ç‡¨•‡¨ø‡¨§‡¨ø ‡¨Ö‡¨õ‡¨ø |', hi: '‡§Æ‡•á‡§∞‡§æ ‡§ï‡•ã‡§à ‡§Ü‡§ï‡§æ‡§∞ ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§ï‡•á‡§µ‡§≤ ‡§è‡§ï ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§π‡•à‡•§' }, o: [{ en: 'Line', or: '‡¨∞‡≠á‡¨ñ‡¨æ', hi: '‡§∞‡•á‡§ñ‡§æ' }, { en: 'Point', or: '‡¨¨‡¨ø‡¨®‡≠ç‡¨¶‡≠Å', hi: '‡§¨‡§ø‡§Ç‡§¶‡•Å' }, { en: 'Ray', or: '‡¨∞‡¨∂‡≠ç‡¨Æ‡¨ø', hi: '‡§ï‡§ø‡§∞‡§£' }], a: 1 },
                        { q: { en: 'I have two endpoints and a fixed length.', or: '‡¨Æ‡≠ã‡¨∞ ‡¨¶‡≠Å‡¨á‡¨ü‡¨ø ‡¨™‡≠ç‡¨∞‡¨æ‡¨®‡≠ç‡¨§‡¨¨‡¨ø‡¨®‡≠ç‡¨¶‡≠Å ‡¨è‡¨¨‡¨Ç ‡¨è‡¨ï ‡¨®‡¨ø‡¨∞‡≠ç‡¨¶‡≠ç‡¨¶‡¨ø‡¨∑‡≠ç‡¨ü ‡¨¶‡≠à‡¨∞‡≠ç‡¨ò‡≠ç‡≠ü ‡¨Ö‡¨õ‡¨ø |', hi: '‡§Æ‡•á‡§∞‡•á ‡§¶‡•ã ‡§Ö‡§Ç‡§§ ‡§¨‡§ø‡§Ç‡§¶‡•Å ‡§î‡§∞ ‡§è‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§≤‡§Ç‡§¨‡§æ‡§à ‡§π‡•à‡•§' }, o: [{ en: 'Line Segment', or: '‡¨∞‡≠á‡¨ñ‡¨æ‡¨ñ‡¨£‡≠ç‡¨°', hi: '‡§∞‡•á‡§ñ‡§æ ‡§ñ‡§Ç‡§°' }, { en: 'Line', or: '‡¨∞‡≠á‡¨ñ‡¨æ', hi: '‡§∞‡•á‡§ñ‡§æ' }, { en: 'Angle', or: '‡¨ï‡≠ã‡¨£', hi: '‡§ï‡•ã‡§£' }], a: 0 },
                        { q: { en: 'We are lines in the same plane that never meet.', or: '‡¨Ü‡¨Æ‡≠á ‡¨ó‡≠ã‡¨ü‡¨ø‡¨è ‡¨∏‡¨Æ‡¨§‡¨≥‡¨∞‡≠á ‡¨•‡¨ø‡¨¨‡¨æ ‡¨∞‡≠á‡¨ñ‡¨æ ‡¨Ø‡¨æ‡¨π‡¨æ ‡¨ï‡≠á‡¨¨‡≠á‡¨¨‡¨ø ‡¨∏‡¨æ‡¨ï‡≠ç‡¨∑‡¨æ‡¨§ ‡¨ï‡¨∞‡≠á ‡¨®‡¨æ‡¨π‡¨ø‡¨Å |', hi: '‡§π‡§Æ ‡§è‡§ï ‡§π‡•Ä ‡§§‡§≤ ‡§Æ‡•á‡§Ç ‡§∞‡•á‡§ñ‡§æ‡§è‡§Å ‡§π‡•à‡§Ç ‡§ú‡•ã ‡§ï‡§≠‡•Ä ‡§®‡§π‡•Ä‡§Ç ‡§Æ‡§ø‡§≤‡§§‡•Ä‡§Ç‡•§' }, o: [{ en: 'Intersecting Lines', or: '‡¨õ‡≠á‡¨¶‡¨ø ‡¨∞‡≠á‡¨ñ‡¨æ', hi: '‡§™‡•ç‡§∞‡§§‡§ø‡§ö‡•ç‡§õ‡•á‡§¶‡•Ä ‡§∞‡•á‡§ñ‡§æ‡§è‡§Å' }, { en: 'Rays', or: '‡¨∞‡¨∂‡≠ç‡¨Æ‡¨ø', hi: '‡§ï‡§ø‡§∞‡§£‡•á‡§Ç' }, { en: 'Parallel Lines', or: '‡¨∏‡¨Æ‡¨æ‡¨®‡≠ç‡¨§‡¨∞ ‡¨∞‡≠á‡¨ñ‡¨æ', hi: '‡§∏‡§Æ‡§æ‡§®‡§æ‡§Ç‡§§‡§∞ ‡§∞‡•á‡§ñ‡§æ‡§è‡§Å' }], a: 2 }
                    ]
                },
                timeTraveler: {
                    instruction: { en: "Enter the year you'll land in!", or: "‡¨§‡≠Å‡¨Æ‡≠á ‡¨ï‡≠á‡¨â‡¨Å ‡¨¨‡¨∞‡≠ç‡¨∑‡¨∞‡≠á ‡¨™‡¨π‡¨û‡≠ç‡¨ö‡¨ø‡¨¨ ‡¨≤‡≠á‡¨ñ!", hi: "‡§Ü‡§™ ‡§ï‡§ø‡§∏ ‡§µ‡§∞‡•ç‡§∑ ‡§Æ‡•á‡§Ç ‡§â‡§§‡§∞‡•á‡§Ç‡§ó‡•á, ‡§¶‡§∞‡•ç‡§ú ‡§ï‡§∞‡•á‡§Ç!" },
                    mission: { en: 'Mission:', or: '‡¨Æ‡¨ø‡¨∂‡¨®‡≠ç:', hi: '‡§Æ‡§ø‡§∂‡§®:' },
                    start: { en: 'You are in the year', or: '‡¨§‡≠Å‡¨Æ‡≠á ‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡¨Æ‡¨æ‡¨® ‡¨Ö‡¨õ', hi: '‡§Ü‡§™ ‡§µ‡§∞‡•ç‡§∑ ‡§Æ‡•á‡§Ç ‡§π‡•à‡§Ç' },
                    travel: { en: 'Travel', or: '‡¨Ø‡¨æ‡¨§‡≠ç‡¨∞‡¨æ ‡¨ï‡¨∞', hi: '‡§Ø‡§æ‡§§‡•ç‡§∞‡§æ ‡§ï‡§∞‡•á‡§Ç' },
                    yearsFuture: { en: 'years into the future!', or: '‡¨¨‡¨∞‡≠ç‡¨∑ ‡¨≠‡¨¨‡¨ø‡¨∑‡≠ç‡≠ü‡¨§‡¨ï‡≠Å!', hi: '‡§µ‡§∞‡•ç‡§∑ ‡§≠‡§µ‡§ø‡§∑‡•ç‡§Ø ‡§Æ‡•á‡§Ç!' },
                    yearsPast: { en: 'years into the past!', or: '‡¨¨‡¨∞‡≠ç‡¨∑ ‡¨Ö‡¨§‡≠Ä‡¨§‡¨ï‡≠Å!', hi: '‡§µ‡§∞‡•ç‡§∑ ‡§Ö‡§§‡•Ä‡§§ ‡§Æ‡•á‡§Ç!' }
                },
                pizzaParty: {
                    instruction: { en: 'Click on the slices to make the fraction', or: '‡¨≠‡¨ó‡≠ç‡¨®‡¨∏‡¨Ç‡¨ñ‡≠ç‡≠ü‡¨æ ‡¨§‡¨ø‡¨Ü‡¨∞‡¨ø ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡≠ç‡¨≤‡¨æ‡¨á‡¨∏‡≠ç ‡¨â‡¨™‡¨∞‡≠á ‡¨ï‡≠ç‡¨≤‡¨ø‡¨ï‡≠ç ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å', hi: '‡§≠‡§ø‡§®‡•ç‡§® ‡§¨‡§®‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§≤‡§æ‡§á‡§∏ ‡§™‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡•á‡§Ç' },
                },
                decimalDash: {
                    instruction: { en: 'Which is the correct decimal for', or: '‡¨è‡¨•‡¨ø‡¨™‡¨æ‡¨á‡¨Å ‡¨∏‡¨†‡¨ø‡¨ï‡≠ç ‡¨¶‡¨∂‡¨Æ‡¨ø‡¨ï ‡¨ï‡≠á‡¨â‡¨Å‡¨ü‡¨ø?', hi: '‡§á‡§∏‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡§π‡•Ä ‡§¶‡§∂‡§Æ‡§≤‡§µ ‡§ï‡•å‡§® ‡§∏‡§æ ‡§π‡•à?' },
                },
                marketMayhem: {
                    instruction: { en: 'You have ‚Çπ100. Can you buy these items?', or: '‡¨§‡≠Å‡¨Æ ‡¨™‡¨æ‡¨ñ‡¨∞‡≠á ‚Çπ100 ‡¨Ö‡¨õ‡¨ø‡•§ ‡¨§‡≠Å‡¨Æ‡≠á ‡¨è‡¨π‡¨ø ‡¨ú‡¨ø‡¨®‡¨ø‡¨∑‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï ‡¨ï‡¨ø‡¨£‡¨ø ‡¨™‡¨æ‡¨∞‡¨ø‡¨¨ ‡¨ï‡¨ø?', hi: '‡§Ü‡§™‡§ï‡•á ‡§™‡§æ‡§∏ ‚Çπ100 ‡§π‡•à‡§Ç‡•§ ‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§Ø‡•á ‡§µ‡§∏‡•ç‡§§‡•Å‡§è‡§Å ‡§ñ‡§∞‡•Ä‡§¶ ‡§∏‡§ï‡§§‡•á ‡§π‡•à‡§Ç?' },
                    calculate: { en: 'Calculate Total', or: '‡¨Æ‡≠ã‡¨ü ‡¨π‡¨ø‡¨∏‡¨æ‡¨¨ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å', hi: '‡§ï‡•Å‡§≤ ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç' },
                    yes: { en: 'Yes!', or: '‡¨π‡¨Å!', hi: '‡§π‡§æ‡§Å!' },
                    no: { en: 'No!', or: '‡¨®‡¨æ!', hi: '‡§®‡§π‡•Ä‡§Ç!' },
                    total: { en: 'Total:', or: '‡¨Æ‡≠ã‡¨ü:', hi: '‡§ï‡•Å‡§≤:' }
                },
                mountainClimber: {
                    instruction: { en: 'Calculate your new altitude!', or: '‡¨§‡≠Å‡¨Æ‡¨∞ ‡¨®‡≠Ç‡¨Ü ‡¨â‡¨ö‡≠ç‡¨ö‡¨§‡¨æ ‡¨ó‡¨£‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§Ö‡§™‡§®‡•Ä ‡§®‡§à ‡§ä‡§Ç‡§ö‡§æ‡§à ‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç!' },
                    start: { en: 'You are at', or: '‡¨§‡≠Å‡¨Æ‡≠á ‡¨Ö‡¨õ', hi: '‡§Ü‡§™ ‡§™‡§∞ ‡§π‡•à‡§Ç' },
                    change: { en: 'A gust of wind moves you', or: '‡¨è‡¨ï ‡¨™‡¨¨‡¨® ‡¨§‡≠Å‡¨Æ‡¨ï‡≠Å ‡¨®‡≠á‡¨á‡¨Ø‡¨æ‡¨è', hi: '‡§π‡§µ‡§æ ‡§ï‡§æ ‡§è‡§ï ‡§ù‡•ã‡§Ç‡§ï‡§æ ‡§Ü‡§™‡§ï‡•ã ‡§≤‡•á ‡§ú‡§æ‡§§‡§æ ‡§π‡•à' },
                    up: { en: 'm up.', or: '‡¨Æ‡¨ø‡¨ü‡¨∞ ‡¨â‡¨™‡¨∞‡¨ï‡≠Å‡•§', hi: '‡§Æ‡•Ä‡§ü‡§∞ ‡§ä‡§™‡§∞‡•§' },
                    down: { en: 'm down.', or: '‡¨Æ‡¨ø‡¨ü‡¨∞ ‡¨§‡¨≥‡¨ï‡≠Å‡•§', hi: '‡§Æ‡•Ä‡§ü‡§∞ ‡§®‡•Ä‡§ö‡•á‡•§' },
                    question: { en: 'What is your new position?', or: '‡¨§‡≠Å‡¨Æ‡¨∞ ‡¨®‡≠Ç‡¨Ü ‡¨∏‡≠ç‡¨•‡¨ø‡¨§‡¨ø ‡¨ï‚Äô‡¨£?', hi: '‡§Ü‡§™‡§ï‡•Ä ‡§®‡§à ‡§∏‡•ç‡§•‡§ø‡§§‡§ø ‡§ï‡•ç‡§Ø‡§æ ‡§π‡•à?' }
                },
                polygonPuzzle: {
                    instruction: { en: 'Answer the question about the shape!', or: '‡¨Ü‡¨ï‡≠É‡¨§‡¨ø ‡¨¨‡¨ø‡¨∑‡≠ü‡¨∞‡≠á ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡¨∞ ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨ø‡¨Ö‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§Ü‡§ï‡•É‡§§‡§ø ‡§ï‡•á ‡§¨‡§æ‡§∞‡•á ‡§Æ‡•á‡§Ç ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡§æ ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§Ç!' },
                    questions: [
                          { q: { en: 'Which of these is a simple closed curve?', or: '‡¨è‡¨Æ‡¨æ‡¨®‡¨ô‡≠ç‡¨ï ‡¨Æ‡¨ß‡≠ç‡≠ü‡¨∞‡≠Å ‡¨ï‡≠á‡¨â‡¨Å‡¨ü‡¨ø ‡¨è‡¨ï ‡¨∏‡¨∞‡¨≥ ‡¨¨‡¨®‡≠ç‡¨¶ ‡¨¨‡¨ï‡≠ç‡¨∞‡¨∞‡≠á‡¨ñ‡¨æ?', hi: '‡§á‡§®‡§Æ‡•á‡§Ç ‡§∏‡•á ‡§ï‡•å‡§® ‡§∏‡§æ ‡§è‡§ï ‡§∏‡§æ‡§ß‡§æ‡§∞‡§£ ‡§¨‡§Ç‡§¶ ‡§µ‡§ï‡•ç‡§∞ ‡§π‡•à?' }, o: [{ en: 'A smiling face', or: '‡¨è‡¨ï ‡¨π‡¨∏‡≠Å‡¨•‡¨ø‡¨¨‡¨æ ‡¨ö‡≠á‡¨π‡≠á‡¨∞‡¨æ', hi: '‡§è‡§ï ‡§Æ‡•Å‡§∏‡•ç‡§ï‡•Å‡§∞‡§æ‡§§‡§æ ‡§π‡•Å‡§Ü ‡§ö‡•á‡§π‡§∞‡§æ' }, { en: 'A figure eight', or: '‡¨è‡¨ï ‡¨Ü‡¨† ‡¨Ü‡¨ï‡≠É‡¨§‡¨ø', hi: '‡§è‡§ï ‡§Ü‡§† ‡§ï‡§æ ‡§Ü‡§Ç‡§ï‡§°‡§º‡§æ' }, { en: 'A triangle', or: '‡¨è‡¨ï ‡¨§‡≠ç‡¨∞‡¨ø‡¨≠‡≠Å‡¨ú', hi: '‡§è‡§ï ‡§§‡•ç‡§∞‡§ø‡§≠‡•Å‡§ú' }], a: 2 },
                          { q: { en: 'How many sides does a quadrilateral have?', or: '‡¨è‡¨ï ‡¨ö‡¨§‡≠Å‡¨∞‡≠ç‡¨≠‡≠Å‡¨ú‡¨∞ ‡¨ï‡≠á‡¨§‡≠ã‡¨ü‡¨ø ‡¨™‡¨æ‡¨∞‡≠ç‡¨∂‡≠ç‡¨µ ‡¨Ö‡¨õ‡¨ø?', hi: '‡§è‡§ï ‡§ö‡§§‡•Å‡§∞‡•ç‡§≠‡•Å‡§ú ‡§ï‡•Ä ‡§ï‡§ø‡§§‡§®‡•Ä ‡§≠‡•Å‡§ú‡§æ‡§è‡§Å ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡§Ç?' }, o: [{ en: '3', or: '‡≠©', hi: '‡•©' }, { en: '4', or: '‡≠™', hi: '‡•™' }, { en: '5', or: '‡≠´', hi: '‡•´' }], a: 1 },
                          { q: { en: 'What do you call a polygon with 5 sides?', or: '‡≠´‡¨ü‡¨ø ‡¨™‡¨æ‡¨∞‡≠ç‡¨∂‡≠ç‡¨µ ‡¨•‡¨ø‡¨¨‡¨æ ‡¨¨‡¨π‡≠Å‡¨≠‡≠Å‡¨ú‡¨ï‡≠Å ‡¨ï‚Äô‡¨£ ‡¨ï‡≠Å‡¨π‡¨æ‡¨Ø‡¨æ‡¨è?', hi: '‡•´ ‡§≠‡•Å‡§ú‡§æ‡§ì‡§Ç ‡§µ‡§æ‡§≤‡•á ‡§¨‡§π‡•Å‡§≠‡•Å‡§ú ‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç?' }, o: [{ en: 'Hexagon', or: '‡¨∑‡¨°‡¨º‡¨≠‡≠Å‡¨ú', hi: '‡§∑‡§ü‡•ç‡§ï‡•ã‡§£' }, { en: 'Pentagon', or: '‡¨™‡¨û‡≠ç‡¨ö‡¨≠‡≠Å‡¨ú', hi: '‡§™‡§Ç‡§ö‡§ï‡•ã‡§£' }, { en: 'Octagon', or: '‡¨Ö‡¨∑‡≠ç‡¨ü‡¨≠‡≠Å‡¨ú', hi: '‡§Ö‡§∑‡•ç‡§ü‡§ï‡•ã‡§£' }], a: 1 }
                    ]
                },
                variableVoyager: {
                    instruction: { en: 'Find the value of X to guide the rocket!', or: '‡¨∞‡¨ï‡≠á‡¨ü‡¨ï‡≠Å ‡¨Æ‡¨æ‡¨∞‡≠ç‡¨ó‡¨¶‡¨∞‡≠ç‡¨∂‡¨® ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å X‡¨∞ ‡¨Æ‡≠Ç‡¨≤‡≠ç‡≠ü ‡¨ñ‡≠ã‡¨ú‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§∞‡•â‡§ï‡•á‡§ü ‡§ï‡§æ ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è X ‡§ï‡§æ ‡§Æ‡§æ‡§® ‡§ú‡•ç‡§û‡§æ‡§§ ‡§ï‡§∞‡•á‡§Ç!' },
                    solve: { en: 'Solve:', or: '‡¨∏‡¨Æ‡¨æ‡¨ß‡¨æ‡¨® ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å:', hi: '‡§π‡§≤ ‡§ï‡§∞‡•á‡§Ç:' },
                },
                gardenArchitect: {
                    instruction: { en: 'Calculate what the architect needs!', or: '‡¨∏‡≠ç‡¨•‡¨™‡¨§‡¨ø‡¨ô‡≠ç‡¨ï‡≠Å ‡¨ï‚Äô‡¨£ ‡¨¶‡¨∞‡¨ï‡¨æ‡¨∞ ‡¨§‡¨æ‡¨π‡¨æ ‡¨ó‡¨£‡¨®‡¨æ ‡¨ï‡¨∞‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§µ‡§æ‡§∏‡•ç‡§§‡•Å‡§ï‡§æ‡§∞ ‡§ï‡•ã ‡§ï‡•ç‡§Ø‡§æ ‡§ö‡§æ‡§π‡§ø‡§è, ‡§â‡§∏‡§ï‡•Ä ‡§ó‡§£‡§®‡§æ ‡§ï‡§∞‡•á‡§Ç!' },
                    question_perimeter: { en: 'How much fencing is needed for this garden (Perimeter)?', or: '‡¨è‡¨π‡¨ø ‡¨¨‡¨ó‡¨ø‡¨ö‡¨æ ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨§‡≠á ‡¨¨‡¨æ‡¨°‡¨º ‡¨¶‡¨∞‡¨ï‡¨æ‡¨∞ (‡¨™‡¨∞‡¨ø‡¨∏‡≠Ä‡¨Æ‡¨æ)?', hi: '‡§á‡§∏ ‡§¨‡§ó‡•Ä‡§ö‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¨‡§æ‡§°‡§º ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•à (‡§™‡§∞‡§ø‡§ß‡§ø)?' },
                    question_area: { en: 'How much space is there for seeds (Area)?', or: '‡¨¨‡≠Ä‡¨ú ‡¨™‡¨æ‡¨á‡¨Å ‡¨ï‡≠á‡¨§‡≠á ‡¨ú‡¨æ‡¨ó‡¨æ ‡¨Ö‡¨õ‡¨ø (‡¨ï‡≠ç‡¨∑‡≠á‡¨§‡≠ç‡¨∞‡¨´‡¨≥)?', hi: '‡§¨‡•Ä‡§ú ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§§‡§®‡•Ä ‡§ú‡§ó‡§π ‡§π‡•à (‡§ï‡•ç‡§∑‡•á‡§§‡•ç‡§∞‡§´‡§≤)?' },
                    unit: { en: 'm', or: '‡¨Æ‡¨ø', hi: '‡§Æ‡•Ä' },
                    unit_sq: { en: 'sq. m', or: '‡¨¨‡¨∞‡≠ç‡¨ó ‡¨Æ‡¨ø', hi: '‡§µ‡§∞‡•ç‡§ó ‡§Æ‡•Ä' }
                },
                fruitStandFrenzy: {
                    instruction: { en: 'Answer the questions based on the fruit sales chart!', or: '‡¨´‡¨≥ ‡¨¨‡¨ø‡¨ï‡≠ç‡¨∞‡¨ø ‡¨ö‡¨æ‡¨∞‡≠ç‡¨ü ‡¨â‡¨™‡¨∞‡≠á ‡¨Ü‡¨ß‡¨æ‡¨∞ ‡¨ï‡¨∞‡¨ø ‡¨™‡≠ç‡¨∞‡¨∂‡≠ç‡¨®‡¨ó‡≠Å‡¨°‡¨º‡¨ø‡¨ï‡¨∞ ‡¨â‡¨§‡≠ç‡¨§‡¨∞ ‡¨¶‡¨ø‡¨Ö‡¨®‡≠ç‡¨§‡≠Å!', hi: '‡§´‡§≤‡•ã‡§Ç ‡§ï‡•Ä ‡§¨‡§ø‡§ï‡•ç‡§∞‡•Ä ‡§ö‡§æ‡§∞‡•ç‡§ü ‡§ï‡•á ‡§Ü‡§ß‡§æ‡§∞ ‡§™‡§∞ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§ï‡•á ‡§â‡§§‡•ç‡§§‡§∞ ‡§¶‡•á‡§Ç!' },
                    questions: [
                        { q: { en: 'Which fruit was sold the most?', or: '‡¨ï‡≠á‡¨â‡¨Å ‡¨´‡¨≥ ‡¨∏‡¨¨‡≠Å‡¨†‡¨æ‡¨∞‡≠Å ‡¨Ö‡¨ß‡¨ø‡¨ï ‡¨¨‡¨ø‡¨ï‡≠ç‡¨∞‡¨ø ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ?', hi: '‡§ï‡•å‡§® ‡§∏‡§æ ‡§´‡§≤ ‡§∏‡§¨‡§∏‡•á ‡§ú‡•ç‡§Ø‡§æ‡§¶‡§æ ‡§¨‡§ø‡§ï‡§æ?' }, o: [{ en: 'Apples', or: '‡¨∏‡≠á‡¨ì', hi: '‡§∏‡•á‡§¨' }, { en: 'Bananas', or: '‡¨ï‡¨¶‡¨≥‡≠Ä', hi: '‡§ï‡•á‡§≤‡•á' }, { en: 'Oranges', or: '‡¨ï‡¨Æ‡¨≥‡¨æ', hi: '‡§∏‡§Ç‡§§‡§∞‡•á' }], a: 1 },
                        { q: { en: 'How many fruits were sold in total?', or: '‡¨Æ‡≠ã‡¨ü ‡¨ï‡≠á‡¨§‡≠ã‡¨ü‡¨ø ‡¨´‡¨≥ ‡¨¨‡¨ø‡¨ï‡≠ç‡¨∞‡¨ø ‡¨π‡≠ã‡¨á‡¨•‡¨ø‡¨≤‡¨æ?', hi: '‡§ï‡•Å‡§≤ ‡§ï‡§ø‡§§‡§®‡•á ‡§´‡§≤ ‡§¨‡§ø‡§ï‡•á?' }, o: [20, 25, 30], a: 2 }
                    ]
                },
                blueprintBuilder: {
                    instruction: { en: 'To perform this construction, which tool is essential?', or: '‡¨è‡¨π‡¨ø ‡¨®‡¨ø‡¨∞‡≠ç‡¨Æ‡¨æ‡¨£ ‡¨ï‡¨∞‡¨ø‡¨¨‡¨æ ‡¨™‡¨æ‡¨á‡¨Å, ‡¨ï‡≠á‡¨â‡¨Å ‡¨â‡¨™‡¨ï‡¨∞‡¨£‡¨ü‡¨ø ‡¨Ö‡¨§‡≠ç‡≠ü‡¨æ‡¨¨‡¨∂‡≠ç‡≠ü‡¨ï?', hi: '‡§á‡§∏ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ‡§ï‡•ã ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§ï‡•å‡§® ‡§∏‡§æ ‡§â‡§™‡§ï‡§∞‡§£ ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§π‡•à?' },
                    questions: [
                        { q: { en: 'Constructing a circle of radius 5cm', or: '5 ‡¨∏‡≠á‡¨Æ‡¨ø ‡¨¨‡≠ç‡≠ü‡¨æ‡¨∏‡¨æ‡¨∞‡≠ç‡¨¶‡≠ç‡¨ß‡¨∞ ‡¨è‡¨ï ‡¨¨‡≠É‡¨§‡≠ç‡¨§ ‡¨®‡¨ø‡¨∞‡≠ç‡¨Æ‡¨æ‡¨£', hi: '5 ‡§∏‡•á‡§Æ‡•Ä ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§ï‡§æ ‡§è‡§ï ‡§µ‡•É‡§§‡•ç‡§§ ‡§¨‡§®‡§æ‡§®‡§æ' }, o: [{ en: 'Ruler', or: '‡¨∏‡≠ç‡¨ï‡≠á‡¨≤‡≠ç', hi: '‡§∞‡•Ç‡§≤‡§∞' }, { en: 'Compass', or: '‡¨ï‡¨Æ‡≠ç‡¨™‡¨æ‡¨∏‡≠ç', hi: '‡§ï‡§Æ‡•ç‡§™‡§æ‡§∏' }, { en: 'Protractor', or: '‡¨™‡≠ç‡¨∞‡≠ã‡¨ü‡≠ç‡¨∞‡¨æ‡¨ï‡≠ç‡¨ü‡¨∞‡≠ç', hi: '‡§™‡•ç‡§∞‡•ã‡§ü‡•á‡§ï‡•ç‡§ü‡§∞' }], a: 1 },
                        { q: { en: 'Drawing a line segment of length 7cm', or: '7 ‡¨∏‡≠á‡¨Æ‡¨ø ‡¨¶‡≠à‡¨∞‡≠ç‡¨ò‡≠ç‡≠ü‡¨∞ ‡¨è‡¨ï ‡¨∞‡≠á‡¨ñ‡¨æ‡¨ñ‡¨£‡≠ç‡¨° ‡¨Ö‡¨ô‡≠ç‡¨ï‡¨®', hi: '7 ‡§∏‡•á‡§Æ‡•Ä ‡§≤‡§Ç‡§¨‡§æ‡§à ‡§ï‡§æ ‡§è‡§ï ‡§∞‡•á‡§ñ‡§æ ‡§ñ‡§Ç‡§° ‡§ñ‡•Ä‡§Ç‡§ö‡§®‡§æ' }, o: [{ en: 'Ruler', or: '‡¨∏‡≠ç‡¨ï‡≠á‡¨≤‡≠ç', hi: '‡§∞‡•Ç‡§≤‡§∞' }, { en: 'Compass', or: '‡¨ï‡¨Æ‡≠ç‡¨™‡¨æ‡¨∏‡≠ç', hi: '‡§ï‡§Æ‡•ç‡§™‡§æ‡§∏' }, { en: 'Set-square', or: '‡¨∏‡≠á‡¨ü‡≠ç-‡¨∏‡≠ç‡¨ï‡≠ã‡≠ü‡¨æ‡¨∞', hi: '‡§∏‡•á‡§ü-‡§∏‡•ç‡§ï‡•ç‡§µ‡§æ‡§Ø‡§∞' }], a: 0 }
                    ]
                }
            };

            // --- UI ELEMENTS ---
            const startScreen = document.getElementById('start-screen');
            const playNowBtn = document.getElementById('play-now-btn');
            const appContainer = document.getElementById('app-container');
            const mainContent = document.getElementById('main-content');
            const platformTitle = document.getElementById('platform-title');
            const langEnBtn = document.getElementById('lang-en-btn');
            const langOrBtn = document.getElementById('lang-or-btn');
            const langHiBtn = document.getElementById('lang-hi-btn');
            const gameModal = document.getElementById('game-modal');
            const gameTitle = document.getElementById('game-title');
            const gameContent = document.getElementById('game-content');
            const closeModalBtn = document.getElementById('close-modal-btn');

            // --- RENDER FUNCTIONS ---
            
            function renderChapters() {
                mainContent.innerHTML = `
                    <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-6 md:gap-8 overflow-y-auto h-[calc(100vh-120px)] pb-12 pr-4">
                        ${textContent.chapters.map(chapter => `
                            <div id="${chapter.id}" class="chapter-card">
                                <div class="text-white p-4 rounded-lg ${chapter.color}">
                                    <h2 class="text-2xl font-bold mb-2 chapter-title lang-${currentLanguage}">${chapter.title[currentLanguage]}</h2>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;
            }

            function renderUnits(chapterId) {
                const chapter = textContent.chapters.find(c => c.id === chapterId);
                mainContent.innerHTML = `
                    <div class="flex items-center mb-6">
                        <button id="back-to-chapters" class="mr-4 p-2 rounded-full bg-white/50 hover:bg-white/80 transition-colors">
                            <svg class="w-6 h-6 text-gray-700" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg>
                        </button>
                        <h2 class="text-3xl font-bold text-white text-shadow lang-${currentLanguage}">${chapter.title[currentLanguage]}</h2>
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        ${chapter.units.map(unit => `
                            <button data-game="${unit.game || 'none'}" data-unit-id="${unit.id}" class="unit-button w-full text-left p-4 rounded-xl shadow-md text-white font-semibold ${chapter.color} ${unit.game && unit.game !== 'comingSoon' ? '' : 'opacity-50 cursor-not-allowed'} hover:scale-105 transition-transform">
                                <span class="lang-${currentLanguage}">${unit.title[currentLanguage]}</span>
                            </button>
                        `).join('')}
                    </div>
                `;
            }

            // --- GAME IMPLEMENTATIONS ---
            const games = {
                detectiveMath: {
                    init() {
                        const sequence = [2, 4, '?', 8, 10];
                        gameTitle.textContent = textContent.chapters[0].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.detectiveMath.instruction[currentLanguage]}</p>
                            <div class="clue-box my-6">
                                <p class="text-sm text-gray-500 lang-${currentLanguage}">${gameData.detectiveMath.caseFile[currentLanguage]}</p>
                                <div class="text-center text-4xl font-bold tracking-wider my-4">${sequence.join(' &nbsp; ')}</div>
                            </div>
                            <div class="flex justify-center items-center gap-4">
                                <input id="game-answer" type="number" class="p-2 text-2xl text-center w-24 border-2 rounded-lg" />
                                <button id="check-btn" class="px-6 py-3 bg-blue-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.checkAnswer[currentLanguage]}</button>
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;

                        document.getElementById('check-btn').addEventListener('click', () => {
                            const answer = document.getElementById('game-answer').value;
                            showFeedback(parseInt(answer) === 6, () => this.init());
                        });
                    }
                },
                treasureHunt: {
                    init() {
                        const numberStr = "4,81,716";
                        const quests = [
                            { place: 'lakhs', answer: 4 },
                            { place: 'tenThousands', answer: 8 },
                            { place: 'thousands', answer: 1 },
                            { place: 'hundreds', answer: 7 },
                            { place: 'tens', answer: 1 },
                            { place: 'ones', answer: 6 }
                        ];
                        const currentQuest = quests[Math.floor(Math.random() * quests.length)];

                        let options = new Set([currentQuest.answer]);
                        while (options.size < 3) {
                            options.add(Math.floor(Math.random() * 10));
                        }
                        const shuffledOptions = Array.from(options).sort(() => Math.random() - 0.5);

                        gameTitle.textContent = textContent.chapters[0].units[1].title[currentLanguage];
                        gameContent.innerHTML = `
                            <div class="p-4 rounded-lg" style="background-color: #F3E9D2; border: 3px solid #C68B59;">
                                <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">
                                    ${gameData.treasureHunt.instruction[currentLanguage]} <strong>${gameData.treasureHunt.place[currentQuest.place][currentLanguage]}</strong> ${gameData.treasureHunt.inTheNumber[currentLanguage]}...
                                </p>
                                <p class="text-center text-5xl font-bold my-6" style="font-family: 'Courier New', monospace; color: #5C2E00;">${numberStr}</p>
                            </div>
                            <div class="flex justify-center items-center gap-6 my-8">
                                ${shuffledOptions.map(opt => `
                                    <button class="game-option-btn p-6 rounded-full text-2xl font-bold bg-yellow-500 text-white border-4 border-yellow-700 hover:bg-yellow-600 transition-all" data-correct="${opt === currentQuest.answer}">${opt}</button>
                                `).join('')}
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;

                        gameContent.querySelectorAll('.game-option-btn').forEach(btn => {
                            btn.addEventListener('click', e => {
                                showFeedback(e.currentTarget.dataset.correct === 'true', () => this.init());
                            });
                        });
                    }
                },
                 spaceInvaders: {
                    init() {
                        const targetMultiple = 7;
                        gameTitle.textContent = textContent.chapters[1].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.spaceInvaders.instruction[currentLanguage]} <strong>${targetMultiple}</strong></p>
                            <div id="invaders-game-area">
                                <div class="player-ship"></div>
                            </div>
                            <div class="text-center mt-4">
                                <p class="text-sm text-gray-500 lang-${currentLanguage}-body">Click on the correct falling numbers!</p>
                            </div>
                             <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        const gameArea = document.getElementById('invaders-game-area');
                        
                        for(let i=0; i<10; i++){
                            const invader = document.createElement('div');
                            invader.className = 'invader';
                            const num = Math.floor(Math.random() * 50) + 1;
                            invader.textContent = num;
                            invader.style.left = `${Math.random() * 90}%`;
                            invader.style.animationDuration = `${Math.random() * 5 + 5}s`;
                            invader.style.animationDelay = `${Math.random() * 10}s`;
                            invader.addEventListener('click', () => {
                                const isCorrect = num % targetMultiple === 0;
                                if(isCorrect) {
                                   invader.style.color = '#feca57';
                                   invader.textContent = 'üí•';
                                   setTimeout(()=> invader.remove(), 500);
                                }
                                showFeedback(isCorrect, () => {});
                            });
                            gameArea.appendChild(invader);
                        }
                    }
                },
                escapeRoom: {
                    init() {
                        const numberToFactor = 48;
                        const keys = [12, 15, 7];
                        const correctKey = 12;

                        gameTitle.textContent = textContent.chapters[1].units[1].title[currentLanguage];
                        gameContent.innerHTML = `
                             <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.escapeRoom.instruction[currentLanguage]} <strong>${numberToFactor}</strong>?</p>
                             <div class="flex justify-center items-center gap-6 my-8">
                                 ${keys.map(key => `
                                     <button class="key-btn p-6 bg-yellow-400 rounded-full text-2xl font-bold hover:bg-yellow-500 transition-colors" data-key="${key}">üîë ${key}</button>
                                 `).join('')}
                             </div>
                             <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        document.querySelectorAll('.key-btn').forEach(btn => {
                            btn.addEventListener('click', () => {
                                const isCorrect = parseInt(btn.dataset.key) === correctKey;
                                showFeedback(isCorrect, () => this.init());
                            });
                        });
                    }
                },
                shapeMagic: {
                    init() {
                        const questionData = gameData.shapeMagic.questions;
                        const q = questionData[Math.floor(Math.random() * questionData.length)];
                        
                        gameTitle.textContent = textContent.chapters[2].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-2xl font-bold my-6 lang-${currentLanguage}-body">"${q.q[currentLanguage]}"</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                ${q.o.map((opt, index) => `
                                    <button class="game-option-btn p-4 rounded-lg text-xl" data-correct="${index === q.a}">
                                        <span class="lang-${currentLanguage}-body">${opt[currentLanguage]}</span>
                                    </button>
                                `).join('')}
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        gameContent.querySelectorAll('.game-option-btn').forEach(btn => {
                            btn.addEventListener('click', e => {
                                showFeedback(e.currentTarget.dataset.correct === 'true', () => this.init());
                            });
                        });
                    }
                },
                timeTraveler: {
                    init() {
                        const startYear = Math.floor(Math.random() * 50) + 10;
                        const travelTime = Math.floor(Math.random() * 10) + 2;
                        const isFuture = Math.random() > 0.5;
                        const endYear = isFuture ? startYear + travelTime : startYear - travelTime;

                        gameTitle.textContent = textContent.chapters[3].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <div class="text-center">
                                <p class="text-lg lang-${currentLanguage}-body">${gameData.timeTraveler.start[currentLanguage]} <strong>${startYear}</strong>.</p>
                                <p class="text-xl font-bold my-4 lang-${currentLanguage}-body">${gameData.timeTraveler.mission[currentLanguage]} ${gameData.timeTraveler.travel[currentLanguage]} <strong>${travelTime}</strong> ${isFuture ? gameData.timeTraveler.yearsFuture[currentLanguage] : gameData.timeTraveler.yearsPast[currentLanguage]}</p>
                            </div>
                            <div class="number-line">
                                <span class="font-bold text-gray-600">${startYear - travelTime - 2}</span>
                                <span class="font-bold text-gray-600">...</span>
                                <div class="time-traveler" style="left: 48%;">üöÄ</div>
                                <span class="font-bold text-gray-600">...</span>
                                <span class="font-bold text-gray-600">${startYear + travelTime + 2}</span>
                            </div>
                             <div class="flex justify-center items-center gap-4">
                                <input id="game-answer" type="number" class="p-2 text-2xl text-center w-24 border-2 rounded-lg" />
                                <button id="check-btn" class="px-6 py-3 bg-purple-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.checkAnswer[currentLanguage]}</button>
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        document.getElementById('check-btn').addEventListener('click', () => {
                            const answer = document.getElementById('game-answer').value;
                            showFeedback(parseInt(answer) === endYear, () => this.init());
                        });
                    }
                },
                 pizzaParty: {
                    init() {
                        const numerator = 3;
                        const denominator = 8;
                        gameTitle.textContent = textContent.chapters[4].units[0].title[currentLanguage];
                        
                        let slicesHTML = '';
                        for (let i = 0; i < denominator; i++) {
                            const angle = (i / denominator) * 360;
                            const x1 = 100 + 90 * Math.cos((angle - 90) * Math.PI / 180);
                            const y1 = 100 + 90 * Math.sin((angle - 90) * Math.PI / 180);
                            const x2 = 100 + 90 * Math.cos((angle - 90 + 360/denominator) * Math.PI / 180);
                            const y2 = 100 + 90 * Math.sin((angle - 90 + 360/denominator) * Math.PI / 180);
                            slicesHTML += `<path class="pizza-slice" d="M100,100 L${x1},${y1} A90,90 0 0,1 ${x2},${y2} Z" data-selected="false"></path>`;
                        }

                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.pizzaParty.instruction[currentLanguage]} <strong class="text-2xl">${numerator}/${denominator}</strong></p>
                            <div class="flex justify-center my-4">
                                <svg viewBox="0 0 200 200" width="250" height="250">
                                    <circle cx="100" cy="100" r="95" class="pizza-crust" />
                                    ${slicesHTML}
                                </svg>
                            </div>
                            <div class="flex justify-center">
                                <button id="check-btn" class="px-6 py-3 bg-pink-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.checkAnswer[currentLanguage]}</button>
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;

                        document.querySelectorAll('.pizza-slice').forEach(slice => {
                            slice.addEventListener('click', () => {
                                const isSelected = slice.dataset.selected === 'true';
                                slice.dataset.selected = !isSelected;
                                slice.style.fill = !isSelected ? '#feca57' : '#ffdd59';
                            });
                        });
                        
                        document.getElementById('check-btn').addEventListener('click', () => {
                            const selectedCount = document.querySelectorAll('.pizza-slice[data-selected="true"]').length;
                            showFeedback(selectedCount === numerator, () => this.init());
                        });
                    }
                },
                decimalDash: {
                    init() {
                        const fraction = {n: 7, d: 10};
                        const decimal = 0.7;
                        const options = [0.07, 7.0, 0.7].sort(() => Math.random() - 0.5);
                        gameTitle.textContent = textContent.chapters[5].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-2xl font-bold my-6 lang-${currentLanguage}-body">${gameData.decimalDash.instruction[currentLanguage]} <strong>${fraction.n}/${fraction.d}</strong>?</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                ${options.map(opt => `
                                    <button class="game-option-btn p-6 rounded-lg text-2xl" data-correct="${opt === decimal}">
                                        ${opt}
                                    </button>
                                `).join('')}
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        gameContent.querySelectorAll('.game-option-btn').forEach(btn => {
                            btn.addEventListener('click', e => {
                                showFeedback(e.currentTarget.dataset.correct === 'true', () => this.init());
                            });
                        });
                    }
                },
                marketMayhem: {
                    init() {
                        const items = [{n:{en:'Apples', or:'‡¨∏‡≠á‡¨ì', hi: '‡§∏‡•á‡§¨'}, p: 45.50}, {n:{en:'Milk', or:'‡¨ï‡≠ç‡¨∑‡≠Ä‡¨∞', hi: '‡§¶‡•Ç‡§ß'}, p: 25.00}, {n:{en:'Bread', or:'‡¨™‡¨æ‡¨â‡¨Å‡¨∞‡≠Å‡¨ü‡¨ø', hi: '‡§¨‡•ç‡§∞‡•á‡§°'}, p: 32.75}];
                        const total = items.reduce((sum, item) => sum + item.p, 0);
                        gameTitle.textContent = textContent.chapters[6].units[0].title[currentLanguage];

                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.marketMayhem.instruction[currentLanguage]}</p>
                            <div class="grid grid-cols-3 gap-4 my-6">
                                ${items.map(item => `
                                    <div class="item-card p-4 rounded-lg text-center">
                                        <p class="text-xl lang-${currentLanguage}-body">${item.n[currentLanguage]}</p>
                                        <p class="text-2xl font-bold">‚Çπ${item.p.toFixed(2)}</p>
                                    </div>
                                `).join('')}
                            </div>
                            <div class="text-center">
                                <button id="check-btn" class="px-6 py-3 bg-red-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.marketMayhem.calculate[currentLanguage]}</button>
                            </div>
                             <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        document.getElementById('check-btn').addEventListener('click', () => {
                            const feedback = document.getElementById('feedback-container');
                            const canAfford = total <= 100;
                            feedback.innerHTML = `
                                <p class="text-xl">${gameData.marketMayhem.total[currentLanguage]} ‚Çπ${total.toFixed(2)}</p>
                                <p class="text-3xl font-bold ${canAfford ? 'text-green-600' : 'text-red-600'}">${canAfford ? gameData.marketMayhem.yes[currentLanguage] : gameData.marketMayhem.no[currentLanguage]}</p>
                            `;
                        });
                    }
                },
                 mountainClimber: {
                    init() {
                        const start = Math.floor(Math.random() * 11) - 5; // -5 to +5
                        const change = Math.floor(Math.random() * 10) + 1; // 1 to 10
                        const isUp = Math.random() > 0.5;
                        const end = isUp ? start + change : start - change;

                        gameTitle.textContent = textContent.chapters[7].units[0].title[currentLanguage];

                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-2 lang-${currentLanguage}-body">${gameData.mountainClimber.instruction[currentLanguage]}</p>
                            <div class="flex justify-around items-center">
                                <div class="w-2/3">
                                    <p class="text-md my-2 lang-${currentLanguage}-body">${gameData.mountainClimber.start[currentLanguage]} <strong>${start > 0 ? '+' : ''}${start}m</strong>.</p>
                                    <p class="text-md my-2 lang-${currentLanguage}-body">${gameData.mountainClimber.change[currentLanguage]} <strong>${change}</strong> ${isUp ? gameData.mountainClimber.up[currentLanguage] : gameData.mountainClimber.down[currentLanguage]}</p>
                                    <p class="text-lg font-bold my-4 lang-${currentLanguage}-body">${gameData.mountainClimber.question[currentLanguage]}</p>
                                    <div class="flex items-center gap-4">
                                        <input id="game-answer" type="number" class="p-2 text-2xl text-center w-24 border-2 rounded-lg" />
                                        <button id="check-btn" class="px-6 py-3 bg-orange-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.checkAnswer[currentLanguage]}</button>
                                    </div>
                                </div>
                                <div class="w-1/3 mountain-bg">
                                    <div class="level-marker" style="bottom: 50%;"><span class="bg-black/20 px-1 rounded">0m</span></div>
                                    <div class="climber" style="bottom: calc(50% + ${start * 5}px);">üßó</div>
                                </div>
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;

                        document.getElementById('check-btn').addEventListener('click', () => {
                            const answer = document.getElementById('game-answer').value;
                            const isCorrect = parseInt(answer) === end;
                            showFeedback(isCorrect, () => this.init());
                            if (isCorrect) {
                                document.querySelector('.climber').style.bottom = `calc(50% + ${end * 5}px)`;
                            }
                        });
                    }
                },
                polygonPuzzle: {
                    init() {
                        const questionData = gameData.polygonPuzzle.questions;
                        const q = questionData[Math.floor(Math.random() * questionData.length)];
                        
                        gameTitle.textContent = textContent.chapters[8].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-2xl font-bold my-4 lang-${currentLanguage}-body">${q.q[currentLanguage]}</p>
                            <div class="shape-canvas h-48 my-4">
                                <!-- Visuals can be added here with SVG -->
                                <p class="text-5xl">${q.o[q.a].en === '4' ? '‚¨õ' : (q.o[q.a].en === 'A triangle' ? 'üî∫': '‚ùî')}</p>
                            </div>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                ${q.o.map((opt, index) => `
                                    <button class="game-option-btn p-4 rounded-lg text-xl" data-correct="${index === q.a}">
                                        <span class="lang-${currentLanguage}-body">${opt[currentLanguage] || opt}</span>
                                    </button>
                                `).join('')}
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        gameContent.querySelectorAll('.game-option-btn').forEach(btn => {
                            btn.addEventListener('click', e => {
                                showFeedback(e.currentTarget.dataset.correct === 'true', () => this.init());
                            });
                        });
                    }
                },
                variableVoyager: {
                    init() {
                        const num1 = Math.floor(Math.random() * 10) + 1;
                        const result = Math.floor(Math.random() * 10) + num1 + 1; // ensure result is larger
                        const answer = result - num1;

                        gameTitle.textContent = textContent.chapters[9].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                             <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.variableVoyager.instruction[currentLanguage]}</p>
                             <div class="voyager-bg my-6">
                                 üöÄ X + ${num1} = ${result}
                             </div>
                             <div class="flex justify-center items-center gap-4">
                                 <p class="text-xl font-bold lang-${currentLanguage}-body">X = </p>
                                <input id="game-answer" type="number" class="p-2 text-2xl text-center w-24 border-2 rounded-lg" />
                                <button id="check-btn" class="px-6 py-3 bg-lime-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.checkAnswer[currentLanguage]}</button>
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        document.getElementById('check-btn').addEventListener('click', () => {
                            const userAnswer = document.getElementById('game-answer').value;
                            showFeedback(parseInt(userAnswer) === answer, () => this.init());
                        });
                    }
                },
                gardenArchitect: {
                     init() {
                        const width = Math.floor(Math.random() * 5) + 4; // 4-8
                        const height = Math.floor(Math.random() * 5) + 4; // 4-8
                        const isPerimeter = Math.random() > 0.5;
                        const answer = isPerimeter ? 2 * (width + height) : width * height;

                        gameTitle.textContent = textContent.chapters[10].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.gardenArchitect.instruction[currentLanguage]}</p>
                            <p class="text-center text-xl font-bold my-4 lang-${currentLanguage}-body">${isPerimeter ? gameData.gardenArchitect.question_perimeter[currentLanguage] : gameData.gardenArchitect.question_area[currentLanguage]}</p>
                             <div class="flex justify-center my-6">
                                 <div class="garden-plot" style="width: ${width*25}px; height: ${height*25}px;">
                                     <span class="dimension-label" style="top: -25px; left: 50%; transform: translateX(-50%);">${width}${gameData.gardenArchitect.unit[currentLanguage]}</span>
                                     <span class="dimension-label" style="left: -40px; top: 50%; transform: translateY(-50%) rotate(-90deg);">${height}${gameData.gardenArchitect.unit[currentLanguage]}</span>
                                 </div>
                             </div>
                            <div class="flex justify-center items-center gap-4">
                                <input id="game-answer" type="number" class="p-2 text-2xl text-center w-32 border-2 rounded-lg" />
                                <span class="text-xl font-bold">${isPerimeter ? gameData.gardenArchitect.unit[currentLanguage] : gameData.gardenArchitect.unit_sq[currentLanguage]}</span>
                            </div>
                             <div class="flex justify-center mt-4">
                                <button id="check-btn" class="px-6 py-3 bg-fuchsia-500 text-white font-bold rounded-lg lang-${currentLanguage}">${gameData.checkAnswer[currentLanguage]}</button>
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;

                         document.getElementById('check-btn').addEventListener('click', () => {
                            const userAnswer = document.getElementById('game-answer').value;
                            showFeedback(parseInt(userAnswer) === answer, () => this.init());
                        });
                    }
                },
                fruitStandFrenzy: {
                    init() {
                        const fruits = [
                            { name: { en: 'Apples', or: '‡¨∏‡≠á‡¨ì', hi: '‡§∏‡•á‡§¨' }, count: 8, color: '#ef4444' },
                            { name: { en: 'Bananas', or: '‡¨ï‡¨¶‡¨≥‡≠Ä', hi: '‡§ï‡•á‡§≤‡•á' }, count: 12, color: '#facc15' },
                            { name: { en: 'Oranges', or: '‡¨ï‡¨Æ‡¨≥‡¨æ', hi: '‡§∏‡§Ç‡§§‡§∞‡•á' }, count: 10, color: '#f97316' }
                        ];
                        const questionData = gameData.fruitStandFrenzy.questions;
                        const questionIndex = Math.floor(Math.random() * questionData.length);
                        const question = {...questionData[questionIndex]};
                        
                        // Dynamically find correct answer for the 'most sold' question
                        if (question.q.en === 'Which fruit was sold the most?') {
                            let maxCount = -1;
                            let mostSoldIndex = -1;
                            fruits.forEach((fruit, index) => {
                                if (fruit.count > maxCount) {
                                    maxCount = fruit.count;
                                    mostSoldIndex = index;
                                }
                            });
                            question.a = mostSoldIndex;
                        } else if (question.q.en === 'How many fruits were sold in total?') {
                            const totalFruits = fruits.reduce((sum, f) => sum + f.count, 0);
                            question.o = [totalFruits - 5, totalFruits + 5, totalFruits].sort(() => Math.random() - 0.5);
                            question.a = question.o.indexOf(totalFruits);
                        }


                        const chartHeight = 250;
                        const barWidth = 50;
                        const maxCount = Math.max(...fruits.map(f => f.count));

                        gameTitle.textContent = textContent.chapters[11].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-lg mb-4 lang-${currentLanguage}-body">${gameData.fruitStandFrenzy.instruction[currentLanguage]}</p>
                            <div class="flex justify-center items-end h-[${chartHeight}px] gap-8 border-b-4 border-gray-400 p-4">
                                ${fruits.map(fruit => `
                                    <div class="flex flex-col items-center">
                                        <div style="height: ${(fruit.count / maxCount) * (chartHeight-40)}px; width: ${barWidth}px; background-color: ${fruit.color};" class="rounded-t-lg"></div>
                                        <p class="mt-2 font-bold lang-${currentLanguage}-body">${fruit.name[currentLanguage]}</p>
                                    </div>
                                `).join('')}
                            </div>
                            <p class="text-center text-2xl font-bold my-6 lang-${currentLanguage}-body">"${question.q[currentLanguage]}"</p>
                             <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                 ${question.o.map((opt, index) => `
                                     <button class="game-option-btn p-4 rounded-lg text-xl" data-correct="${index === question.a}">
                                         <span class="lang-${currentLanguage}-body">${typeof opt === 'object' ? opt[currentLanguage] : opt}</span>
                                     </button>
                                 `).join('')}
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                         gameContent.querySelectorAll('.game-option-btn').forEach(btn => {
                            btn.addEventListener('click', e => {
                                showFeedback(e.currentTarget.dataset.correct === 'true', () => this.init());
                            });
                        });
                    }
                },
                blueprintBuilder: {
                    init() {
                        const questionData = gameData.blueprintBuilder.questions;
                        const q = questionData[Math.floor(Math.random() * questionData.length)];
                        
                        gameTitle.textContent = textContent.chapters[12].units[0].title[currentLanguage];
                        gameContent.innerHTML = `
                            <p class="text-center text-xl font-bold my-4 lang-${currentLanguage}-body">${gameData.blueprintBuilder.instruction[currentLanguage]}</p>
                            <p class="text-center text-2xl my-4 p-4 bg-blue-100 border-l-4 border-blue-500 rounded lang-${currentLanguage}-body">"${q.q[currentLanguage]}"</p>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-6">
                                ${q.o.map((opt, index) => `
                                    <button class="game-option-btn p-4 rounded-lg text-xl flex flex-col items-center gap-2" data-correct="${index === q.a}">
                                        <span class="tool-icon">${opt.en === 'Ruler' ? 'üìè' : (opt.en === 'Compass' ? 'üß≠' : 'üìê')}</span>
                                        <span class="lang-${currentLanguage}-body">${opt[currentLanguage]}</span>
                                    </button>
                                `).join('')}
                            </div>
                            <div id="feedback-container" class="text-center mt-6"></div>
                        `;
                        
                        gameContent.querySelectorAll('.game-option-btn').forEach(btn => {
                            btn.addEventListener('click', e => {
                                showFeedback(e.currentTarget.dataset.correct === 'true', () => this.init());
                            });
                        });
                    }
                },
                comingSoon: {
                    init() {
                        gameTitle.textContent = currentLanguage === 'en' ? 'Coming Soon!' : (currentLanguage === 'or' ? '‡¨∂‡≠Ä‡¨ò‡≠ç‡¨∞ ‡¨Ü‡¨∏‡≠Å‡¨õ‡¨ø' : '‡§ú‡§≤‡•ç‡§¶ ‡§Ü ‡§∞‡§π‡§æ ‡§π‡•à');
                        gameContent.innerHTML = `<p class="text-center text-2xl p-8 lang-${currentLanguage}-body">${currentLanguage === 'en' ? 'This game is under construction. Check back later!' : (currentLanguage === 'or' ? '‡¨è‡¨π‡¨ø ‡¨ñ‡≠á‡¨≥ ‡¨®‡¨ø‡¨∞‡≠ç‡¨Æ‡¨æ‡¨£‡¨æ‡¨ß‡≠Ä‡¨® ‡¨Ö‡¨õ‡¨ø | ‡¨™‡¨∞‡≠á ‡¨™‡≠Å‡¨£‡¨ø ‡¨¶‡≠á‡¨ñ‡¨®‡≠ç‡¨§‡≠Å!' : '‡§Ø‡§π ‡§ó‡•á‡§Æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£‡§æ‡§ß‡•Ä‡§® ‡§π‡•à‡•§ ‡§¨‡§æ‡§¶ ‡§Æ‡•á‡§Ç ‡§´‡§ø‡§∞ ‡§∏‡•á ‡§¶‡•á‡§ñ‡•á‡§Ç!')}</p>`;
                    }
                }
            };
            
            function showFeedback(isCorrect, nextCallback) {
                const feedbackContainer = document.getElementById('feedback-container');
                if(!feedbackContainer) return;
                
                if (isCorrect) {
                    feedbackContainer.innerHTML = `<p class="text-2xl font-bold text-green-600">${gameData.correct[currentLanguage]}</p>`;
                    setTimeout(() => {
                        if(nextCallback) nextCallback();
                        if(feedbackContainer) feedbackContainer.innerHTML = '';
                    }, 1500);
                } else {
                    feedbackContainer.innerHTML = `<p class="text-2xl font-bold text-red-600">${gameData.tryAgain[currentLanguage]}</p>`;
                     setTimeout(() => {
                         if(feedbackContainer) feedbackContainer.innerHTML = '';
                    }, 1000);
                }
            }
            
            // --- LANGUAGE & NAVIGATION ---
            function updateLanguage() {
                 document.querySelectorAll('[class*="lang-"]').forEach(el => {
                    el.classList.remove('lang-en', 'lang-or', 'lang-hi', 'lang-or-body', 'lang-hi-body');
                    const isTitle = el.tagName === 'H1' || el.tagName === 'H2' || el.classList.contains('play-now-btn') || el.classList.contains('chapter-title') || el.classList.contains('unit-button');
                    
                    if (isTitle) {
                         el.classList.add(`lang-${currentLanguage}`);
                    } else {
                         el.classList.add(currentLanguage === 'or' ? 'lang-or-body' : (currentLanguage === 'hi' ? 'lang-hi-body' : 'lang-en'));
                    }
                });

                platformTitle.textContent = textContent.platformTitle[currentLanguage];
                startScreen.querySelector('h1').textContent = {en: '6th Grade Math', or: '‡¨∑‡¨∑‡≠ç‡¨† ‡¨∂‡≠ç‡¨∞‡≠á‡¨£‡≠Ä ‡¨ó‡¨£‡¨ø‡¨§', hi: '‡§ï‡§ï‡•ç‡§∑‡§æ 6 ‡§ó‡§£‡§ø‡§§'}[currentLanguage];
                startScreen.querySelector('p').textContent = {en: 'The Next Level of Adventure!', or: '‡¨∏‡¨æ‡¨π‡¨∏‡¨ø‡¨ï‡¨§‡¨æ‡¨∞ ‡¨™‡¨∞‡¨¨‡¨∞‡≠ç‡¨§‡≠ç‡¨§‡≠Ä ‡¨∏‡≠ç‡¨§‡¨∞!', hi: '‡§∏‡§æ‡§π‡§∏‡§ø‡§ï ‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§ï‡§æ ‡§Ö‡§ó‡§≤‡§æ ‡§∏‡•ç‡§§‡§∞!'}[currentLanguage];
                playNowBtn.textContent = {en: 'Play Now', or: '‡¨è‡¨¨‡≠á ‡¨ñ‡≠á‡¨≥‡¨®‡≠ç‡¨§‡≠Å', hi: '‡§Ö‡§¨ ‡§ñ‡•á‡§≤‡•á‡§Ç'}[currentLanguage];

                // Re-render views
                const isUnitView = mainContent.querySelector('#back-to-chapters');
                 if (isUnitView) {
                    const h2Element = mainContent.querySelector('h2');
                    let chapterId = null;
                    for (const ch of textContent.chapters) {
                        if(ch.title.en === h2Element.textContent || ch.title.or === h2Element.textContent || ch.title.hi === h2Element.textContent) {
                            chapterId = ch.id;
                            break;
                        }
                    }
                    if(chapterId) {
                       renderUnits(chapterId);
                    } else {
                       renderChapters();
                    }
                } else {
                    renderChapters();
                }
                
                // Update active button style
                [langEnBtn, langOrBtn, langHiBtn].forEach(btn => {
                    btn.classList.remove('bg-emerald-500', 'text-white');
                    btn.classList.add('text-gray-600');
                });
                const activeBtn = document.getElementById(`lang-${currentLanguage}-btn`);
                if (activeBtn) {
                    activeBtn.classList.add('bg-emerald-500', 'text-white');
                    activeBtn.classList.remove('text-gray-600');
                }
            }
            
            // --- EVENT LISTENERS ---
            playNowBtn.addEventListener('click', () => {
                startScreen.style.transition = 'opacity 0.5s ease';
                startScreen.style.opacity = '0';
                setTimeout(() => {
                    startScreen.style.display = 'none';
                    appContainer.style.display = 'block';
                    setTimeout(() => appContainer.style.opacity = '1', 50); // fade in
                }, 500);
            });
            
            langEnBtn.addEventListener('click', () => { if (currentLanguage !== 'en') { currentLanguage = 'en'; updateLanguage(); } });
            langOrBtn.addEventListener('click', () => { if (currentLanguage !== 'or') { currentLanguage = 'or'; updateLanguage(); } });
            langHiBtn.addEventListener('click', () => { if (currentLanguage !== 'hi') { currentLanguage = 'hi'; updateLanguage(); } });

            mainContent.addEventListener('click', (e) => {
                const chapterCard = e.target.closest('.chapter-card');
                if (chapterCard) renderUnits(chapterCard.id);
                if (e.target.closest('#back-to-chapters')) renderChapters();
                
                const unitButton = e.target.closest('.unit-button');
                if (unitButton && unitButton.dataset.game !== 'none') {
                    const gameName = unitButton.dataset.game;
                    if (games[gameName]) {
                        games[gameName].init();
                        gameModal.classList.remove('hidden');
                    }
                }
            });
            
            closeModalBtn.addEventListener('click', () => {
                gameModal.classList.add('hidden');
                gameContent.innerHTML = ''; // Clear content to stop any running intervals if any were added
            });

            // --- INITIALIZATION ---
            createBackground();
            updateLanguage();

        });
    </script>
</body>
</html>

